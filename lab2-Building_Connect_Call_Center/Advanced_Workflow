{"modules":[{"id":"22e3889d-8092-4767-ba6f-0f58b13f7a0b","type":"SetVoice","branches":[{"condition":"Success","transition":"5c31604c-8dce-4248-8ff1-80f0c2c72158"}],"parameters":[{"name":"GlobalVoice","value":"Joanna"}],"metadata":{"position":{"x":173,"y":36}}},{"id":"5c31604c-8dce-4248-8ff1-80f0c2c72158","type":"SetRecordingBehavior","branches":[{"condition":"Success","transition":"ef3ade0a-1906-4e45-8e42-761e0ef81805"}],"parameters":[{"name":"RecordingBehaviorOption","value":"Enable"},{"name":"RecordingParticipantOption","value":"Both"}],"metadata":{"position":{"x":400,"y":40}}},{"id":"09fcc5e0-d6b4-4bf4-99d1-a77d71860c1a","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":880,"y":500}}},{"id":"0d3490fa-8ec5-4b5d-8bfd-af156b753a19","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"7aa813c2-ee3c-483e-8fac-834f20158e9a"},{"condition":"Error","transition":"7aa813c2-ee3c-483e-8fac-834f20158e9a"}],"parameters":[],"metadata":{"position":{"x":620,"y":280},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"1b222d83-5812-4380-83e2-cc780957fee5","type":"PlayPrompt","branches":[{"condition":"Success","transition":"2b402849-b24e-4436-b3c4-677b10b29037"}],"parameters":[{"name":"Text","value":"Welcome to our simple call center - thanks for calling.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":280,"y":560},"useDynamic":false}},{"id":"2b402849-b24e-4436-b3c4-677b10b29037","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"GetBalanceCheck","transition":"09fcc5e0-d6b4-4bf4-99d1-a77d71860c1a"},{"condition":"NoMatch","transition":"0d3490fa-8ec5-4b5d-8bfd-af156b753a19"},{"condition":"Error","transition":"7aa813c2-ee3c-483e-8fac-834f20158e9a"}],"parameters":[{"name":"Text","value":"How can we help you? \nPress 1 or say Advisor to speak to an advisor.\nPress 2 or say Check my balance to get your balance","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"FinTechLexBot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":540,"y":500},"conditionMetadata":[{"id":"1f75751e-cf85-4424-acfd-290c2e9c59eb","value":"GetBalanceCheck"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"},{"id":"b8bb9603-37ef-4650-aa68-64e861dd8fe8","type":"SetAttributes","branches":[{"condition":"Success","transition":"9713edd1-4e3d-43b1-98bd-16ec077db32d"},{"condition":"Error","transition":"09fcc5e0-d6b4-4bf4-99d1-a77d71860c1a"}],"parameters":[{"name":"Attribute","value":"CustomerName","key":"CustomerName","namespace":"External"}],"metadata":{"position":{"x":60,"y":740}}},{"id":"9713edd1-4e3d-43b1-98bd-16ec077db32d","type":"PlayPrompt","branches":[{"condition":"Success","transition":"2b402849-b24e-4436-b3c4-677b10b29037"}],"parameters":[{"name":"Text","value":"Hi $.External.CustomerName welcome to the FinTechDemo","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":300,"y":900},"useDynamic":false}},{"id":"f756f833-d5c1-4757-af9f-86c17bf4e428","type":"CheckAttribute","branches":[{"condition":"NoMatch","transition":"1b222d83-5812-4380-83e2-cc780957fee5"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"b8bb9603-37ef-4650-aa68-64e861dd8fe8"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"0","transition":"1b222d83-5812-4380-83e2-cc780957fee5"}],"parameters":[{"name":"Attribute","value":"CustomerMatch"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":40,"y":440},"conditionMetadata":[{"id":"566c11ca-0636-488a-9446-40840be715c3","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"1"},{"id":"21dd5c5d-7c70-44f3-bcc0-484061460f0a","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"0"}]}},{"id":"7aa813c2-ee3c-483e-8fac-834f20158e9a","type":"PlayPrompt","branches":[{"condition":"Success","transition":"09fcc5e0-d6b4-4bf4-99d1-a77d71860c1a"}],"parameters":[{"name":"Text","value":"Oh dear there has been an error.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":960,"y":240},"useDynamic":false}},{"id":"ef3ade0a-1906-4e45-8e42-761e0ef81805","type":"SetQueue","branches":[{"condition":"Success","transition":"c048f7dc-5348-4721-9486-01eeac3baf8e"},{"condition":"Error","transition":"7aa813c2-ee3c-483e-8fac-834f20158e9a"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-east-1:117026838272:instance/ed452c18-7508-468f-a510-09d1d661ef1d/queue/24dd7d91-ffcc-43e3-a33f-9fc3afd3d598","namespace":null,"resourceName":"BasicQueue"}],"metadata":{"position":{"x":620,"y":40},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-east-1:117026838272:instance/ed452c18-7508-468f-a510-09d1d661ef1d/queue/24dd7d91-ffcc-43e3-a33f-9fc3afd3d598","text":"BasicQueue"}}},{"id":"c048f7dc-5348-4721-9486-01eeac3baf8e","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"f756f833-d5c1-4757-af9f-86c17bf4e428"},{"condition":"Error","transition":"7aa813c2-ee3c-483e-8fac-834f20158e9a"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:117026838272:function:myPersonalResponder","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"PhoneNumber","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":40,"y":220},"dynamicMetadata":{"PhoneNumber":true},"useDynamic":false},"target":"Lambda"}],"version":"1","type":"contactFlow","start":"22e3889d-8092-4767-ba6f-0f58b13f7a0b","metadata":{"entryPointPosition":{"x":40,"y":40},"snapToGrid":true,"name":"Advanced Workflow","description":null,"type":"contactFlow","status":"published","hash":"0b9302aa5aa9b29ac2287d85feddbee9dc1348430dbb4e6c55fd0c56e3597646"}}